<main class="account-update-main">
    <!-- Display success flash message if exists -->
    <% if (flash.notice && flash.notice.length> 0) { %>
        <p class="flash-message alert alert-success">
            <%= flash.notice[0] %> <!-- Access the first message in the array -->
        </p>
        <% } %>

            <!-- Display error flash message if exists -->
            <% if (flash.error_notice && flash.error_notice.length> 0) { %>
                <p class="flash-message alert alert-danger">
                    <%= flash.error_notice[0] %> <!-- Access the first message in the array -->
                </p>
                <% } %>
                    <!-- Form for updating account information -->
                    <form action="/account/update/<%= accountData.account_id %>" method="POST"
                        class="registration-form">
                        <h2 class="registration-heading">All fields are required*</h2>

                        <!-- First Name Field -->
                        <div class="registration-form-group">
                            <label for="account_firstname" class="registration-label">First Name</label>
                            <input type="text" id="account_firstname" name="account_firstname"
                                class="registration-input" required value="<%= accountData.account_firstname %>">
                            <!-- Correctly use accountData -->
                        </div>

                        <!-- Last Name Field -->
                        <div class="registration-form-group">
                            <label for="account_lastname" class="registration-label">Last Name</label>
                            <input type="text" id="account_lastname" name="account_lastname" class="registration-input"
                                required value="<%= accountData.account_lastname %>"> <!-- Correctly use accountData -->
                        </div>

                        <!-- Email Field -->
                        <div class="registration-form-group">
                            <label for="account_email" class="registration-label">Email</label>
                            <input type="email" id="account_email" name="account_email"
                                placeholder="Enter a valid email address" class="registration-input" required
                                value="<%= accountData.account_email %>"> <!-- Correctly use accountData -->
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="registration-btn">Update your Account</button>
                    </form>
                    </section>

                    <!-- Password Change Section -->
                    <section class="password-change-section">
                        <h2>Change Password</h2>
                        <form action="/account/update-password" method="POST" class="registration-form">
                            <h2 class="registration-heading">You can change your password*</h2>
                            <!-- New Password Field -->
                            <div class="registration-form-group">
                                <label for="account_password" class="registration-label">New Password</label>
                                <input type="password" id="account_password" name="account_password"
                                    class="registration-input" required minlength="12"
                                    pattern="^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+=-]).{12,}$"
                                    title="Password must be at least 12 characters long, contain at least 1 capital letter, 1 number, and 1 special character (!@#$%^&*()_+=-)">
                            </div>

                            <label>
                                <input type="checkbox" id="togglePassword"> Show Password
                            </label>
                            <span>Passwords must be at least 12 characters and contain at least 1 number, 1 capital
                                letter, and 1 special character.</span>

                            <!-- Submit Button -->
                            <button type="submit" class="registration-btn">Change Password</button>
                        </form>

                        <script src="/js/script.js"></script>
                    </section>
</main>